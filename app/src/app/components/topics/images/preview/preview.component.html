<div *ngIf="imageData; else loading;" >
    <div class="grid gap images">
        <div class="grid__cell center-cell-content" *ngIf="loadSegmentation(); else segmentationLoader;">
            <mat-slide-toggle 
                class="segmentation-toggle"
                [color]="segmentationToggle.color"
                [checked]="segmentationToggle.checked"
                [disabled]="!loadedSegmentations"
                (change)="toggleSegmentation($event)">
                Segmentation
            </mat-slide-toggle>
        </div> 
        <ng-template #segmentationLoader>
            <div class="grid__cell center-cell-content">
                <mat-progress-bar mode="indeterminate">
                    Segmentation
                </mat-progress-bar>
            </div>
        </ng-template>
        <div class="grid__cell center-cell-content">
                <app-rgb-image [data]="imageData" [id]="imageId" class="images"></app-rgb-image>
                <div class="segmentation" [ngStyle]="{visibility: segmentationToggle.checked ? 'visible' : 'hidden'} ">
                    <app-segmentation-image   (load)="onSegmentationLoad($event)"  [imageHeaderId]="imageHeaderId"></app-segmentation-image>
                </div>
        </div>
    </div>
</div>

<ng-template #loading>
    <span *ngIf="noImage; else loader">
        No image were found.
    </span>
    <ng-template #loader>
        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </ng-template>
</ng-template>
<hr/>
<mat-paginator [length]="pagesLength"
    [pageSize]="pageSize"
    (page)="getCurrentImage($event)">
</mat-paginator>